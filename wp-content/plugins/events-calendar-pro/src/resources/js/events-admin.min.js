var tribe_events_pro_admin={event:{}};!function(a,b){b.init=function(){function b(a){var b=Date.now(),f=b-k;a.html&&g.html(html),a.progress&&d(a.progress,a.progressText),a["continue"]&&(500>f?setTimeout(c,500-f):c()),a.complete&&(h.replaceWith(TribeEventsProRecurrenceUpdate.completeMsg),g.removeClass("updating").addClass("completed"),setTimeout(e,1e3))}function c(){var c={event:TribeEventsProRecurrenceUpdate.eventID,check:TribeEventsProRecurrenceUpdate.check,action:"tribe_events_pro_recurrence_realtime_update"};a.post(ajaxurl,c,b,"json")}function d(a,b){a=parseInt(a),0>a||a>100||(j.css("width",a+"%"),i.attr("title",b))}function e(){var a={opacity:0,height:"toggle"};g.animate(a,1e3,function(){g.remove()})}function f(){c(),d(TribeEventsProRecurrenceUpdate.progress,TribeEventsProRecurrenceUpdate.progressText)}if(this.init_settings(),a("#event_venue input, #event_venue select").change(function(){var b=a("#saved_venue option:selected");if(0===b.val()){var c=a(this).closest("form"),d=c.find('[name="venue[Address]"]').val(),e=c.find('[name="venue[City]"]').val(),f=c.find('[name="venue[Country]"]').val(),g="US"===c.find('[name="venue[Country]"] option:selected').val()?c.find('[name="venue[State]"]').val():c.find('[name="venue[Province]"]').val(),h=c.find('[name="venue[Zip]"]').val(),i=d+","+e+","+g+","+f+","+h;"function"==typeof codeAddress&&codeAddress(i)}else"function"==typeof codeAddress&&codeAddress(b.data("address"))}),a("#doaction, #doaction2").click(function(b){var c=a(this).attr("id").substr(2);if("edit"===a('select[name="'+c+'"]').val()&&"tribe_events"===a(".post_type_page").val()){b.preventDefault();var d=[];a("#bulk-titles div").each(function(){var b=a(this).attr("id"),c=b.replace("ttle",""),e=a("#post-"+c+" .row-title").first().text(),f=a("<div/>").append(a(this).find("a"));a(this).html("").append(f).append(e),d[b]&&a(this).remove(),d[b]=!0})}}),a("body").on("click",".ui-dialog-titlebar .ui-dialog-titlebar-close",function(){tribe_events_pro_admin.reset_submit_button()}),a('input[name="post[]"]').click(function(){var b=a(this).val();a(this).is(":checked")?a('input[name="post[]"][value="'+b+'"]').prop("checked",!0):a('input[name="post[]"][value="'+b+'"]').prop("checked",!1)}),a(".wp-list-table.posts").on("click",".tribe-split",function(){var b="";return b=a(this).hasClass("tribe-split-all")?TribeEventsProAdmin.recurrence.splitAllMessage:TribeEventsProAdmin.recurrence.splitSingleMessage,window.confirm(b)?void 0:!1}),a(".wp-admin.events-cal.edit-php #doaction").click(function(b){"trash"===a('[name="action"] option:selected').val()&&a('.tribe-recurring-event-parent [name="post[]"]:checked').length>0&&!confirm(TribeEventsProAdmin.recurrence.bulkDeleteConfirmationMessage)&&b.preventDefault()}),"object"==typeof TribeEventsProRecurrenceUpdate){var g=a("div.tribe-events-recurring-update-msg"),h=g.find("img"),i=g.find("div.progress"),j=g.find("div.bar"),k=Date.now();setTimeout(f)}},b.init_settings=function(){var b=a('[name="hideSubsequentRecurrencesDefault"]'),c=a('[name="userToggleSubsequentRecurrences"]');if(b.length&&c.length){var d=a("#tribe-field-userToggleSubsequentRecurrences");b.is(":checked")&&(c.prop("checked",!1),d.hide()),b.on("click",function(){var b=a(this);b.is(":checked")?(c.prop("checked",!1),d.hide()):d.show()})}},a(function(){b.init()})}(jQuery,tribe_events_pro_admin);